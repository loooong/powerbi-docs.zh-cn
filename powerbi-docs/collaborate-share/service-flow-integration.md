---
title: 将数据警报与 Power Automate 集成
description: 了解如何创建由 Power BI 数据警报触发的 Power Automate 流。
author: maggiesMSFT
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-service
ms.topic: how-to
ms.date: 09/25/2020
ms.author: maggies
LocalizationGroup: Get started
ms.openlocfilehash: da5940a6ff4e8b05d7548f21b6b048d3adbe05b0
ms.sourcegitcommit: d153cfc0ce559480c53ec48153a7e131b7a31542
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/29/2020
ms.locfileid: "91526470"
---
# <a name="integrate-power-bi-data-alerts-with-power-automate"></a>将 Power BI 数据警报与 Power Automate 集成

[Power Automate](/power-automate/getting-started) 是一款在日益增多的应用程序和 SaaS 服务中自动执行工作流的 SaaS 产品/服务。 你可以通过集成常用应用和服务（包括 Power BI）来自动执行任务，从而获得通知、同步文件、收集数据，等等。 在本文中，你将基于 Power BI 数据警报自动生成电子邮件。

[立即开始使用 Power Automate。](/power-automate/getting-started)

## <a name="prerequisites"></a>先决条件
本文介绍了如何创建两个不同的流：一个是通过模板创建，另一个是从头开始创建。 若要继续学习本教程，请[在 Power BI 中创建数据警报](../create-reports/service-set-data-alerts.md)并[注册 Power Automate](https://flow.microsoft.com/#home-signup)。 它是免费的！

## <a name="create-a-flow-from-a-template"></a>通过模板创建流
在此任务中，我们使用模板创建一个由 Power BI 数据警报（通知）触发的简单流。

1. 登录 Power Automate (flow.microsoft.com)。
2. 选择“模板”，搜索“Power BI” > “在触发 Power BI 数据警报时，向任何受众发送电子邮件”。
   
    :::image type="content" source="media/service-flow-integration/power-automate-templates.png" alt-text="Power Automate 的“在触发 Power BI 数据警报时，向任何受众发送电子邮件”模板的屏幕截图。":::

### <a name="build-the-flow"></a>生成流
此模板包含一个触发器、一个 Power BI 数据警报和一个用于发送电子邮件的操作。 在你选择字段的同时，Power Automate 会显示可以包含的动态内容。  在本示例中，我们在消息正文中添加磁贴值和磁贴 URL。

1. 选择“继续”。 

    :::image type="content" source="media/service-flow-integration/power-automate-power-bi-mail.png" alt-text="Power Automate 的“在触发 Power BI 数据警报时，向任何受众发送电子邮件”模板的屏幕截图。":::

1. 在“警报 ID”框中，选择一个 Power BI 数据警报。 若要了解如何创建警报，请参阅 [Power BI 中的数据警报](../create-reports/service-set-data-alerts.md)。
   
    :::image type="content" source="media/service-flow-integration/power-automate-select-alert-id.png" alt-text="Power Automate 的“在触发 Power BI 数据警报时，向任何受众发送电子邮件”模板的屏幕截图。":::
2. 输入一个或多个有效的电子邮件地址。

3. Power Automate 会自动为你生成**主题**和**正文**，你可以保留它们，也可以修改它们。 正文文本使用 HTML 进行格式设置。

    :::image type="content" source="media/service-flow-integration/power-automate-autogenerated-email.png" alt-text="Power Automate 的“在触发 Power BI 数据警报时，向任何受众发送电子邮件”模板的屏幕截图。":::

1. 完成消息后，选择“下一步”或“保存”。  此时，系统已创建并计算流。  Power Automate 会在有错误时提示你。
2. 如果有错误，请选择“**编辑流**”修复错误。如果没有错误，请选择“**完成**”运行这一新流。
   
   ![Power Automate 成功消息的屏幕截图。](media/service-flow-integration/power-bi-flow-running.png)
5. 触发数据警报时，Power Automate 将向你指定的地址发送一封电子邮件。  
   
   ![Power Automate 警报电子邮件的屏幕截图。](media/service-flow-integration/power-bi-flow-email2.png)

## <a name="create-a-flow-from-scratch"></a>从头开始创建流
在此任务中，我们从头开始创建一个由 Power BI 数据警报（通知）触发的简单流。

1. 登录 Power Automate (flow.microsoft.com)。
2. 选择“创建” > “自动流”。

    :::image type="content" source="media/service-flow-integration/power-automate-create-automated-flow.png" alt-text="Power Automate 的“在触发 Power BI 数据警报时，向任何受众发送电子邮件”模板的屏幕截图。":::   
3. 在“生成自动流”中，为流指定名称。
1. 在“选择流的触发器”中，搜索“Power BI”。
1. 选择“Power BI - 触发数据驱动警报时” > “创建”。

    :::image type="content" source="media/service-flow-integration/power-automate-build-automated-flow.png" alt-text="Power Automate 的“在触发 Power BI 数据警报时，向任何受众发送电子邮件”模板的屏幕截图。":::

### <a name="build-your-flow"></a>生成流
1. 在“警报 ID”框中，选择你的警报的名称。 若要了解如何创建警报，请参阅 [Power BI 中的数据警报](../create-reports/service-set-data-alerts.md)。

    :::image type="content" source="media/service-flow-integration/power-automate-select-alert-id-scratch.png" alt-text="Power Automate 的“在触发 Power BI 数据警报时，向任何受众发送电子邮件”模板的屏幕截图。":::   

2. 选择“新建步骤”。
   
3. 在“选择操作”中，搜索“Outlook” > “创建事件”。

    :::image type="content" source="media/service-flow-integration/power-automate-choose-action-create-event.png" alt-text="Power Automate 的“在触发 Power BI 数据警报时，向任何受众发送电子邮件”模板的屏幕截图。":::   
4. 填写事件字段。 在你选择字段的同时，Power Automate 会显示可以包含的动态内容。
   
   ![屏幕截图，显示如何继续生成流。](media/service-flow-integration/power-bi-flow-event.png)
5. 完成后，选择“创建流”****。  此时，Power Automate 会保存并计算流。 如果没有错误，请选择“**完成**”运行此流。  此时，系统会将这一新流添加到“**我的流**”页中。
   
   ![屏幕截图，显示如何完成流。](media/service-flow-integration/power-bi-flow-running.png)
6. 当 Power BI 数据警报触发流时，你会收到如下 Outlook 事件通知。
   
    ![Power Automate 触发 Outlook 通知的屏幕截图。](media/service-flow-integration/power-bi-flow-notice.png)

## <a name="next-steps"></a>后续步骤
* [Power Automate 入门](/power-automate/getting-started/)
* [在 Power BI 服务中设置数据警报](../create-reports/service-set-data-alerts.md)
* [在 iPhone 上设置数据警报](../consumer/mobile/mobile-set-data-alerts-in-the-mobile-apps.md)
* 更多问题？ [尝试参与 Power BI 社区](https://community.powerbi.com/)